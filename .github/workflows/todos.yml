name: TODO

on:
  push:
    branches:
      - main

concurrency:
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: true

jobs:
  todos:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - uses: jamminroot/todo-2-gh-issue@1.2.1
        with:
          TOKEN: ${{ secrets.SOURCE_PUSH_TOKEN }}
          TODO_PATTERN: "(?<=\\/\\/ ?TODO[ :]).+"
          GH_LABEL: "TODO"
          TRIM: ",: \""
          TIMEOUT: 1000
          LINES_BEFORE: 2
          LINES_AFTER: 5
          LABELS_PATTERN: "(?<=\\[).+?(?=\\])"
          LABELS_REPLACE_PATTERN: "\\[(.+?)\\]"
          IGNORED_LINES_LENGTH: 255
          FILE_PATTERN: ".*cs"
        id: "todo"
